<!DOCTYPE html>
<html>

<head>
  <title>
    <%= title %>
  </title>
  <link rel="stylesheet" href="/stylesheets/style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body>
  <h1>
    <%= title %>
  </h1>

  <div>
    <form action="/stars/new" method="post">
      <p><input type="text" name="starsName" placeholder="Podaj nazwÄ™ gwiazdy" /></p>
      <p><input type="text" name="starsType" placeholder="Jaki to typ?" /></p>
      <p><button type="submit">Dodaj</button></p>
    </form>
  </div>

  <div>
    <table class="table table-striped table-bordered table-hover" id="data-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Star Name</th>
          <th>Star Type</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>

  <script>
    fetch('/stars/get')
      .then(response => response.json())
      .then(data => {
        const tableBody = document.querySelector('#data-table tbody');
        data.forEach(item => {
          const row = tableBody.insertRow();
          const idCell = row.insertCell();
          const nameCell = row.insertCell();
          const typeCell = row.insertCell();
          idCell.innerHTML = item._id;
          nameCell.innerHTML = item.name;
          typeCell.innerHTML = item.type;
        });
      })
      .catch(error => console.error(error));
  </script>
</body>

</html>